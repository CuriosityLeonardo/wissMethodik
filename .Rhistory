library("ggplot2")
theme_set(theme_bw())
library("sf")
library("rnaturalearth")
library("rnaturalearthdata")
library("ggspatial")
world <- ne_countries(scale = "medium", returnclass = "sf")
install.packages("rgeos")
library("rgeos")
world <- ne_countries(scale = "medium", returnclass = "sf")
class(world)
# excerpt
sites <- data.frame(longitude = df$long, latitude = df$lat)
View(df)
df <- read.csv(".../kc_house_data.csv")
View(df)
Inspect(df)
df <- read.csv("kc_house_data.csv")
library("ggplot2")
theme_set(theme_bw())
library("sf")
library("rnaturalearth")
library("rnaturalearthdata")
library("ggspatial")
detach("package:rgeos", unload=TRUE)
world <- ne_countries(scale = "medium", returnclass = "sf")
class(world)
# excerpt
sites <- data.frame(longitude = df$long, latitude = df$lat)
# wide view
ggplot(data = world) +
geom_sf(fill= "antiquewhite") +
annotation_scale(location = "bl", width_hint = 0.5) +
annotation_north_arrow(location = "bl", which_north = "true",
pad_x = unit(0.75, "in"), pad_y = unit(0.5, "in"),
style = north_arrow_fancy_orienteering) +
geom_point(data = sites, aes(x = longitude, y = latitude), size = 4, shape = 23, fill = "darkred") +
coord_sf(xlim = c(-145.0, 0), ylim = c(0, 90), expand = FALSE)
# zoom in
ggplot(data = world) +
geom_sf(fill= "antiquewhite") +
annotation_scale(location = "bl", width_hint = 0.5) +
annotation_north_arrow(location = "bl", which_north = "true",
pad_x = unit(0.75, "in"), pad_y = unit(0.5, "in"),
style = north_arrow_fancy_orienteering) +
geom_point(data = sites, aes(x = longitude, y = latitude), size = 1, shape = 23, fill = "darkred") +
coord_sf(xlim = c(-122.8, -121.5), ylim = c(47.1, 47.8), expand = FALSE)
# Coloring
cond <- df$price <= 321950
df_1st <- df[cond,]
sites_1st <- data.frame(longitude = df_1st$long, latitude = df_1st$lat)
cond <- df$price <= 450000 & df$price > 321950
df_2nd <- df[cond,]
sites_2nd <- data.frame(longitude = df_2nd$long, latitude = df_2nd$lat)
cond <- df$price <= 645000 & df$price > 450000
df_3rd <- df[cond,]
sites_3rd <- data.frame(longitude = df_3rd$long, latitude = df_3rd$lat)
cond <- df$price > 645000
df_4th <- df[cond,]
sites_4th <- data.frame(longitude = df_4th$long, latitude = df_4th$lat)
ggplot(data = world) +
geom_sf(fill= "antiquewhite") +
annotation_scale(location = "bl", width_hint = 0.5) +
annotation_north_arrow(location = "bl", which_north = "true",
pad_x = unit(0.75, "in"), pad_y = unit(0.5, "in"),
style = north_arrow_fancy_orienteering) +
geom_point(data = sites_1st, aes(x = longitude, y = latitude), size = 1, shape = 23, fill = "green") +
geom_point(data = sites_2nd, aes(x = longitude, y = latitude), size = 1, shape = 23, fill = "green") +
geom_point(data = sites_3rd, aes(x = longitude, y = latitude), size = 1, shape = 23, fill = "blue") +
geom_point(data = sites_4th, aes(x = longitude, y = latitude), size = 1, shape = 23, fill = "blue") +
coord_sf(xlim = c(-122.8, -121.5), ylim = c(47.1, 47.8), expand = FALSE)
